# Bitácora de semana 7

Comencé la vuelta a este proyecto implementando detalles que habían quedado pendientes, por ejemplo, en la vista de my-debates, faltaba integrar el preview asociado a cada simulación ejecutada, para mostrar las versiones históricas relevantes que no necesariamente coinciden con la versión más reciente. Para esto fue necesario rediseñar el endpoint relevante a la obtención de estos "snapshots" de debates y la forma en que se almacenan en backend. Se corrigieron algunos errores, como solo permitir que un solo toggle esté extendido en la vista my-debates.

Luego, otro de los pendientes fue el diseño definitivo de la vista de simulación. La vista anterior solo tenía como objetivo mostrar lo que el backend devolviera, y era temporal. Se alineó el diseño a la vista de editor, incluyendo un SimulationCanvas, muy similar a la de editor pero no interactiva. En este punto también se refactorizaron todos los componentes Canvas para generalizar una sola componente visual, con opciones de tamaño, y add-ons de interacción. De esta forma, tanto el EditorCanvas, SimulationCanvas y MiniCanvas son instancias de un único patrón con distintas configuraciones, y solo el Editor tiene el add-on de interación.

Finalmente, trabajé en las vistas de votación y analítica. Estos eran endpoints que habían quedado como mock desde el primer despliegue, pero los revisé para alinearlos con las entidades que efectivamente se utilizan en la aplicación. Para la votación, se modificó el schema de Summary, para adjuntar una lista de votos, con sus nombres, decisión y justificación. El frontend recoge estos mediante una nueva "pestaña" Voting en la vista de simulación. Se incluyeron los bloques lógicos necesarios para solo poder invocar una votación después de que la simulación haya finalizado. Por el lado de la analítica, se diseñó un servicio de backend nuevo dedicado a calcular la matriz de similitud entre opiniones finales y la matriz de engagement. Ambos están disponibles ya mediante un endpoint, pero no se han integrado al frontend aún. El formato que entrega el endpoint es tal que debería permitir crear gráficos desde el lado del cliente con toda la información necesaria.

En este aspecto, aún no se incluirán analíticas de sentimiento, puesto que el modelo utilizado para generarlas es bastante pesado. Existen alternativas ligeras para sustituirlas u ofrecerlas como opción, pero se pospondrá esperando a la repriorización del roadmap teniendo en cuenta la intención de empezar a integrar capacidades agenticas a los modelos de IA.

Para dar cuenta de estos enfoques de desarrollo para este proyecto hacia el final del semestre, reconocí 3:
- Foco plataforma: Trabajar en features que permitan desplegar este proyecto. Esto incluye manejo de usuarios, y otras features de comodidad y UX como creación de Templates (agentes, debates), re-creación de debates en base a versiones antiguas ("revivir" versiones obsoletas en nuevos debates), etc.
- Foco simulación / análisis: Alineado al trabajo del curso NLP, esto involucra dar mayor énfasis a los modelos utilizados para reconocer similitud, generación de embeddings, y análisis y visualización posterior.
- Foco agentes / multimodal: El foco "original" del proyecto, de integrar diversas herramientas a los agentes y evidenciar su uso. Esto incluye dar la opción de utilizar debates anteriores a modo de RAG, utilizar fuentes externas (como Twitter) para generar personalidades e interpelar a otros agentes, y otras fuentes como noticias u otros recursos que estén disponibles. 

Todos estos enfoques son posibles y atendibles, pero deben priorizarse y medirse en su alcance de aquí al resto del semestre. Por otra parte, es importante considerar la compatibilidad de estos enfoques, puesto que, por ejemplo, el despliegue de la plataforma se beneficia de utilizar modelos cloud via API, o modelos ligeros locales, pero el foco de simulación exige modelos más avanzados y complejos de desplegar en plataformas bajo un "free-tier". Todas esas son cosas que se tienen que considerar.